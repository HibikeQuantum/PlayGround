# TDD for example

#Book

---



* Stub 사용은 케바케

	* 팀간 한명씩 페어플밍으로 Endpoint 의 Stub을 짜면 완벽한 팀간 디커플링이 가능해진다.



* TDD를 견인하는 심플한 원칙

	* 자동화된 테스트가 동작하지 않을때만 새코드를 쓴다.

	* 중복된 코드는 제거한다.

* 빨강 초록 리팩토리로 이어지는 프로그래밍 원칙

	* 일단 테스트를 통과하게하고 중복을 제거한다.

* 톱니바퀴가 더 촘촘할수록 한칸 전진하는데 드는 힘은 줄어든다.

	* 따라서 문제가 어려울수록 더 작은 테스트가 필요하다.

* 중복된 코드는 문제의 징후

* 중복된 논리를 줄이는데는 객체가 좋다

* 숙련된 등반가는 팔과 다리가 꼭 3개는 벽과 붙어있도록 유지한다. 지나친 다이나믹은 사기를 꺽는다. 초록불이 한번에 한개 이상 꺼지지 않도록 해라.

* 가장 먼저 해야할일은 ‘단언’작성이다. 테스트를 작성하면서 무엇을 구현해야할지 그림을 완성하게 된다. ‘단언’으로 시작해서 거꾸로 일이 완성되는 과정을 그리게 된다.

* 명백한 데이터는 상수를 쓰지 않아도 되는 예제. 클래스 구현하는걸 보고 있노라니 나도 빨리 구현해보고 싶다…. TDD‼️

* 



## python - xUnit by TDD

* 대화의 주제를 하나로 정하는건 훌륭한 아이디어를 억제하는 방법

* 하지만 때로는 하나의 아이디어에 집중해야하는게 훨씬 나을때가 더 많다. 그래서 노트에 주제와 상관없는 이야기를 적고 논의를 마무리한다.

* ‘회귀테스트’ 문제가 발생하면 했어야할 테스트를 늦게나마 테스트하는것. 만약 이것을 작성할 수 없다면 잘못된 설계다. 시스템 장애를 격리할 수 있도록 리팩토링하라.

* 샤워 방법론. 방법을 알때는 키보드로 치면된다. 치지 못할때는 알때까지 샤워를 한다. 쉰다. TDD는 이 방법론을 정제한것이다. 구현을 명백히 할 수 있으면 구현을 한다. 모르겠으면 가짜로 구현한다. 설계가 명확하지 않다면 삼각측량법으로 측정한다. 그래도 모르겠으면 샤워나 하러간다.

* 주기적인 휴식이 아이디어의 원천이다. 금요일 밤의 가족식사, 년 단위로는 2주에서 4주에 이르는 휴가.

* 때로는 다 날려버리고 다시하는게 낫다.

## 27장 테스트 만들기

* 큰 테스트가 나온다면 반성하자 왜 그런 테스트가 나오게 되었을까?

* 모의객체는 양날의 검이지만, 모의객체를 실제 객체가 사용할 수 있다고 한다면 문제를 해결할 수 있다.

* 메서드를 사용한 횟수를 카운팅하고 싶으면 객체안에서 메서드를 달고 프로퍼티를 업데이트하면 된다.

* 자기 스스로를 점검하는 피드백 회로를 만들면된다. -> 셀프션트

* 객체에 데이터를 프로퍼티로 갖고 문자열을 비교하는것으로 메서드의 호출 순서를 쉽게 파악할 수 있다.

* 하루 작업의 마지막을 테스트를 만들어 빨간막대를 띄어놓고 나가기. 다음에 돌아왔을때 무엇을 해야할지 바로 알 수 있고 작업을 하고 싶은 마음을 들게 만든다. 

* 삼각측량 -> 수신지 두개를 알고 있을때 나의 위치를 알 수 있다. 즉 테스트와 가짜 구현 두개를 만들고 나면 진짜로 우리가 해야할 구현이 무엇인지 알 수 있게 된다.

* **명백한구현** 깨끗한 코드와 동작하는 코드 둘을 한번에 못할수도 있다. 너무 큰 목표를 가지면 좌절할 수도 있다. 하나씩해라.

## 29장 xUnit 패턴

* 단언은 보면 알아 먹을 수 있게 `AssertTrue(area() == 0)  (x) -> assertTrue(50area() == 50)` 0 대신 구체적으로 알기 좋게 만들자.

## 30장 디자인패턴

* 『디자인 패턴』과는 다르게 리팩토링을 생각하는 저자. 



---

## express VS statement

* Expression은 ‘수식’이라는 뜻으로 하나 이상의 값으로 표현(reduce)될 수 있는 코드

```express

1 + 1 

```

* **statement는 ‘진술’, ‘서술’의 의미로 프로그래밍에서는 실행가능한(executable) 최소의 독립적인 코드 조각**

``` statement

a = 3

```

* express 는 statement의 부분집합  `a = 1 + b` **즉, 모든 expression은 statement다.** **어떤 statement는 expression이지 않다.** 예를 들어 `return 3` 이건 오직 statement. `exec(‘1+2’)`는 실행되지만, `eval(‘a = 3’)`은 실행되지 않는다. express만 허용될 자리에 statement는 들어갈 수가 없다.